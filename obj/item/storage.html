<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <base href="../../" />
    <link rel="stylesheet" href="dmdoc.css" />
    <title>&#x2F;obj&#x2F;item&#x2F;storage - byond</title>
</head>
<body>
<header>
    <a href="index.html">byond</a> -
    <a href="index.html#modules">Modules</a> -
    <a href="index.html#types">Types</a>
 &mdash; <a href="obj/item/storage.html#proc">Proc Details</a></header>
<main>
<h1>storage <aside>/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/storage.html">storage</a></aside>
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L8">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 8"/></a></h1>

<table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Procs</h2></td></tr>
            <tr><th><a href="obj/item/storage.html#proc/MouseDrop">MouseDrop</a></th><td>Whether to use map-variant skins.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/_item_insertion">_item_insertion</a></th><td><em>Inserts the item. Separate proc because handle_item_insertion isn't guaranteed to insert
and it therefore isn't safe to override it before calling parent. Updates icon when done.
Can be called directly but only if the item was spawned inside src - handle_item_insertion is safer.
W is always an item. stop_warning prevents messaging. user may be null.</em></td></tr>
            <tr><th><a href="obj/item/storage.html#proc/_item_removal">_item_removal</a></th><td>Separate proc because remove_from_storage isn't guaranteed to finish. Can be called directly if the target atom exists and is an item. Updates icon when done.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/dump_ammo_to">dump_ammo_to</a></th><td>Despite the name, this is called by the <em>recipient</em>. Meant for topping things up with known items -- doesn't run checks on a transferred item beyond whether there's room for it. This one is for ammo.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/dump_into">dump_into</a></th><td>Despite the name, this is called by the <em>recipient</em>. Meant for topping things up with known items -- doesn't run checks on a transferred item beyond whether there's room for it. This one is for storage items.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/handle_item_insertion">handle_item_insertion</a></th><td><em>Handler for inserting items. It does not perform any checks of whether an item can or can't be inserted into the storage item.
That's done by can_be_inserted(). Its checks are whether the item exists, is an item, and (if it's held by a mob) the mob can drop it.
The stop_warning parameter will stop the insertion message from being displayed. It is intended for cases where you are inserting multiple
items at once, such as when picking up all the items on a tile with one click.
user can be null, it refers to the potential mob doing the insertion.</em></td></tr>
            <tr><th><a href="obj/item/storage.html#proc/has_room">has_room</a></th><td>Returns TRUE if there is room for the given item. W_class_override allows checking for just a generic W_class, meant for checking shotgun handfuls without having to spawn and delete one just to check.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/hide_from">hide_from</a></th><td>Used to hide the storage's inventory screen.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/post_skin_selection">post_skin_selection</a></th><td>Things to be done after selecting a map skin (if any) and before adding inventory and updating icon for the first time. Most likely saving basic icon state.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/remove_from_storage">remove_from_storage</a></th><td>Call this proc to handle the removal of an item from the storage item. The item will be moved to the atom sent as new_target.</td></tr>
            <tr><th><a href="obj/item/storage.html#proc/storage_close">storage_close</a></th><td>Used to close the storage item. Used a lot - if tying it to special effects, use a content_watchers check to make sure it's closed properly and no-one's looking inside.</td></tr></table><h2 id="proc">Proc Details</h2><h3 id="proc/MouseDrop">MouseDrop<aside>(/<a href="obj.html">obj</a>/over_object) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L37">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 37"/></a></aside>
        </h3>
        <p>Whether to use map-variant skins.</p><h3 id="proc/_item_insertion"><aside class="declaration">proc </aside>_item_insertion<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W, prevent_warning, /<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L452">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 452"/></a></aside>
        </h3>
        <p><em>Inserts the item. Separate proc because handle_item_insertion isn't guaranteed to insert
and it therefore isn't safe to override it before calling parent. Updates icon when done.
Can be called directly but only if the item was spawned inside src - handle_item_insertion is safer.
W is always an item. stop_warning prevents messaging. user may be null.</em></p><h3 id="proc/_item_removal"><aside class="declaration">proc </aside>_item_removal<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W, /<a href="atom.html">atom</a>/new_location) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L479">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 479"/></a></aside>
        </h3>
        <p>Separate proc because remove_from_storage isn't guaranteed to finish. Can be called directly if the target atom exists and is an item. Updates icon when done.</p><h3 id="proc/dump_ammo_to"><aside class="declaration">proc </aside>dump_ammo_to<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/ammo_magazine/ammo_dumping, /<a href="mob.html">mob</a>/user, amount_to_dump) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L606">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 606"/></a></aside>
        </h3>
        <p>Despite the name, this is called by the <em>recipient</em>. Meant for topping things up with known items -- doesn't run checks on a transferred item beyond whether there's room for it. This one is for ammo.</p><h3 id="proc/dump_into"><aside class="declaration">proc </aside>dump_into<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/storage.html">storage</a>/M, /<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L643">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 643"/></a></aside>
        </h3>
        <p>Despite the name, this is called by the <em>recipient</em>. Meant for topping things up with known items -- doesn't run checks on a transferred item beyond whether there's room for it. This one is for storage items.</p><h3 id="proc/handle_item_insertion"><aside class="declaration">proc </aside>handle_item_insertion<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W, prevent_warning, /<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L436">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 436"/></a></aside>
        </h3>
        <p><em>Handler for inserting items. It does not perform any checks of whether an item can or can't be inserted into the storage item.
That's done by can_be_inserted(). Its checks are whether the item exists, is an item, and (if it's held by a mob) the mob can drop it.
The stop_warning parameter will stop the insertion message from being displayed. It is intended for cases where you are inserting multiple
items at once, such as when picking up all the items on a tile with one click.
user can be null, it refers to the potential mob doing the insertion.</em></p><h3 id="proc/has_room"><aside class="declaration">proc </aside>has_room<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W, W_class_override) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L359">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 359"/></a></aside>
        </h3>
        <p>Returns TRUE if there is room for the given item. W_class_override allows checking for just a generic W_class, meant for checking shotgun handfuls without having to spawn and delete one just to check.</p><h3 id="proc/hide_from"><aside class="declaration">proc </aside>hide_from<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L126">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 126"/></a></aside>
        </h3>
        <p>Used to hide the storage's inventory screen.</p><h3 id="proc/post_skin_selection"><aside class="declaration">proc </aside>post_skin_selection<aside>() 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L782">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 782"/></a></aside>
        </h3>
        <p>Things to be done after selecting a map skin (if any) and before adding inventory and updating icon for the first time. Most likely saving basic icon state.</p><h3 id="proc/remove_from_storage"><aside class="declaration">proc </aside>remove_from_storage<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/W, /<a href="atom.html">atom</a>/new_location) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L471">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 471"/></a></aside>
        </h3>
        <p>Call this proc to handle the removal of an item from the storage item. The item will be moved to the atom sent as new_target.</p><h3 id="proc/storage_close"><aside class="declaration">proc </aside>storage_close<aside>(/<a href="mob.html">mob</a>/user) 
        
    
            <a href="https://github.com/fira/cmss13/blob/69d6bc6103e123d2efd1eb8127d223d3f89c786c/code/game/objects/items/storage/storage.dm#L162">
        <img src="git.png" width="16" height="16" title="code&#x2F;game&#x2F;objects&#x2F;items&#x2F;storage&#x2F;storage.dm 162"/></a></aside>
        </h3>
        <p>Used to close the storage item. Used a lot - if tying it to special effects, use a content_watchers check to make sure it's closed properly and no-one's looking inside.</p></main>
<footer>
    ColonialMarinesALPHA.dme
    <a href="https://github.com/fira/cmss13/tree/69d6bc6103e123d2efd1eb8127d223d3f89c786c">69d6bc6</a>
        (master) &mdash; <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/src/dmdoc/README.md">dmdoc 1.4.1</a></footer>
</body>
</html>
